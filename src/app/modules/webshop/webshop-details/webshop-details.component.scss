/* ------------------------------
   Base & tokens (light theme)
------------------------------ */
:root {
  --bg-soft: #fcfcfd;
  --surface: #ffffff;
  --stroke: #e6e8ef;

  --text-900: #111827;
  --text-700: #374151;
  --text-600: #4b5563;
  --text-500: #6b7280;
  --text-300: #d1d5db;

  --primary-600: #0ea5e9;
  --accent: #ff5a4f;        /* bittersweet / akcenat */
  --success: #22c55e;
  --error: #ef4444;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;

  --shadow-sm: 0 4px 12px rgba(17, 24, 39, .04);
  --shadow-md: 0 6px 24px rgba(17, 24, 39, .06);
}

/* ------------------------------
   Utilities
------------------------------ */
*,
*::before,
*::after { box-sizing: border-box; }

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.spinner {
  display: flex; align-items: center; justify-content: center;
  width: 100%; height: calc(100vh - 220px);
}

.card {
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

/* ------------------------------
   Page container & header
------------------------------ */
.product-container {
  max-width: 1200px;
  margin: 30px auto;
  padding: 0 12px;
  color: var(--text-700);
  font-family: Arial, sans-serif;
}

.product-header {
  margin-bottom: 20px; text-align: left;

  .product-title {
    color: var(--text-900);
    font-weight: 600;
    font-size: clamp(20px, 3.2vw, 28px) !important;
    letter-spacing: -0.01em;
    margin: 0 0 6px 0;
  }

  .product-article {
    color: var(--text-500);
    font-size: 14px;
    font-weight: 600;
    margin: 0;
  }
}

/* ------------------------------
   Hero grid: media | highlights | buy
------------------------------ */
.product-hero {
  display: grid;
  grid-template-columns: 1.4fr 1fr 0.9fr;
  gap: 28px;
  align-items: start;

  @media (max-width: 1100px) { grid-template-columns: 1fr; }
}

/* Media / gallery */
.product-media {
  margin: 0;
  padding: 16px;
  background: linear-gradient(180deg, #fff, var(--bg-soft));
  border: 1px solid var(--stroke);
  border-radius: var(--radius-lg);

  .product-img {
    width: 100%;
    height: clamp(300px, 42vw, 420px);
    object-fit: contain;
    display: block;
    border-radius: 10px;
  }

  .media-caption {
    display: flex; align-items: center; gap: 8px;
    margin-top: 10px; color: var(--text-500); font-size: 13px;

    .brand-logo { height: 22px; max-width: 120px; object-fit: contain; }
  }
}

/* Highlights (fallback kada nema teh. podataka) */
.product-highlights {
  padding: 18px;
  background: var(--bg-soft);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-md);

  .bullets { list-style: none; margin: 0; padding: 0; }

  .bullets li {
    color: var(--text-700);
    font-size: 14px;
    display: flex; align-items: baseline; gap: 10px;
    padding: 8px 0;
    border-bottom: 1px dashed var(--stroke);

    &:last-child { border-bottom: 0; }
    strong { color: var(--text-900); }

    .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--accent);
      flex: 0 0 8px; margin-top: 6px;
    }
  }
}

/* Specifikacije (primarni prikaz) */
.product-specs {
  padding: 18px;
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-md);
  color: var(--text-700);

  .specs-header {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 12px;

    .specs-title {
      margin: 0;
      font-size: 18px;
      color: var(--text-900);
    }

    .specs-count {
      font-size: 12px;
      color: var(--text-500);
      background: var(--bg-soft);
      border-radius: 999px;
      padding: 4px 10px;
    }
  }

  .specs-table {
    width: 100%;
    border-collapse: collapse;

    th,
    td {
      padding: 10px 0;
      font-size: 13px;
      border-bottom: 1px solid var(--stroke);
    }

    th {
      text-align: left;
      color: var(--text-700);
      font-weight: 600;

      .spec-unit {
        margin-left: 4px;
        color: var(--text-500);
        font-weight: 500;
      }
    }

    td {
      text-align: right;
      color: var(--text-900);
      font-weight: 600;
    }

    .spec-highlight th,
    .spec-highlight td {
      color: var(--accent);
    }
  }

  .spec-toggle {
    margin-top: 14px;
    text-align: center;
  }
}

.specs-fallback {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--text-500);
  margin-bottom: 12px;

  .specs-info-icon {
    font-size: 18px;
  }
}

/* Buy card (sticky) */
.buy-card {
  position: sticky; top: 80px;
  padding: 18px;

  .stock {
    display: inline-flex; align-items: center; gap: 8px;
    font-size: 13px; padding: 6px 10px; border-radius: 999px;
    background: #f7f7fb; border: 1px solid var(--stroke); color: var(--text-700);

    .led { width: 8px; height: 8px; border-radius: 50%; background: #c4c4c4; }
    &.ok .led { background: var(--success); }
    &.nope .led { background: var(--error); }
  }

  .price-wrap { margin: 14px 0 12px; }
  .price {
    color: var(--text-900);
    font-size: clamp(22px, 4vw, 28px);
    font-weight: 800; letter-spacing: -0.02em;
    font-variant-numeric: tabular-nums;
  }
  .note { font-size: 12px; color: var(--text-500); }

  .actions {
    display: grid; grid-template-columns: 120px 1fr; gap: 12px;
    .qty ::ng-deep input { text-align: center; }
  }

  .trust {
    margin: 14px 2px 2px; padding: 0; list-style: none;
    display: grid; gap: 8px;

    li { display: flex; align-items: center; gap: 8px; color: var(--text-500); font-size: 13px; }

    i {
      width: 18px; height: 18px; border-radius: 4px;
      background: var(--bg-soft); border: 1px solid var(--stroke);
      background-repeat: no-repeat; background-position: center; background-size: 14px;
    }
    .shield { background-image: url('/images/icons/shield.svg'); }
    .truck  { background-image: url('/images/icons/truck.svg');  }
  }
}

/* ------------------------------
   Rich text / opis
------------------------------ */
.product-rich-text {
  margin-top: 15px; padding-top: 10px;

  p { margin-bottom: 10px; line-height: 1.65; font-size: 14px; color: #444; }
  ul, ol { margin: 0 0 10px 20px; }
  li { line-height: 1.5; }
  strong, b { font-weight: 700; }
  em, i { font-style: italic; }
  h1, h2, h3, h4 {
    margin: 15px 0 10px; font-size: 16px; font-weight: 600; color: #222;
  }
}

/* ------------------------------
   Documentation / OE sections
------------------------------ */
.documentation {
  border-top: 4px solid var(--accent);
  border-top-left-radius: 5px; border-top-right-radius: 5px;
  padding: 15px;

  &--section {
    display: flex; flex-wrap: wrap; justify-content: space-evenly;
  }

  &--section-padding { padding: 10px; }

  .mat-icon { width: 30px; height: 30px; }
}

.oe-title {
  color: var(--text-900);
  font-size: 22px !important;
  font-weight: 600;
  margin-bottom: 10px;
}
.oe-subtitle {
  font-size: 14px; color: var(--text-500); margin-bottom: 15px;
}
.oe-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 10px;
}
.oe-item {
  color: var(--primary-600);
  text-decoration: none;
  font-size: 14px;

  &:hover { color: #0284c7; text-decoration: underline; }
}

/* ------------------------------
   Admin footer
------------------------------ */
.admin-edit-footer {
  max-width: 1200px;
  margin: 40px auto 0;
  padding: 20px;
  border-top: 2px dashed var(--text-300);
  background-color: var(--bg-soft);
  border-radius: var(--radius-sm);
  text-align: center;

  .admin-edit-title {
    color: var(--text-900);
    font-weight: 700;
    margin-bottom: 15px !important;
  }

  .admin-edit-actions {
    display: flex; justify-content: center; flex-wrap: wrap; gap: 18px;
  }
}

/* ------------------------------
   Misc (editor, placeholders)
------------------------------ */
.editor-textarea {
  width: 100%; min-height: 200px; padding: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 14px; border: 1px solid var(--stroke);
  border-radius: var(--radius-sm); resize: vertical;
}

.product-specs.placeholder {
  color: var(--text-500); font-style: italic;
  background-color: var(--bg-soft);
  padding: 15px; border: 1px dashed var(--accent);
  border-radius: 6px; text-align: center;

  h3 { color: var(--text-900); font-style: normal; font-size: 18px; margin-bottom: 8px; }
  p  { font-size: 14px; margin: 0; }
}

/* ------------------------------
   Responsive adjustments
------------------------------ */
@media (max-width: 991px) {
  .product-container { margin: 20px auto; }

  .product-header { text-align: center;
    .product-title { font-size: 18px !important; }
    .product-article { font-size: 13px; }
  }

  .product-specs {
    padding: 16px;

    .specs-table {
      th,
      td {
        font-size: 12px;
        padding: 8px 0;
      }
    }
  }

  .product-media { padding: 12px;
    .product-img { height: clamp(240px, 56vw, 360px); }
  }

  .buy-card .actions { grid-template-columns: 1fr; }

  .documentation { padding: 10px;
    &--section { flex-direction: column; align-items: center; }
    &--section-padding { padding: 10px 0; }
    img { max-width: 100%; height: auto; }
  }

  .oe-grid { grid-template-columns: 1fr; gap: 6px; }

  .admin-edit-footer {
    margin: 30px 10px 0; padding: 16px; border-top: 2px dashed var(--text-300);
    .admin-edit-title { font-size: 20px !important; margin-bottom: 15px !important; }
    .admin-edit-actions {
      flex-direction: column; align-items: stretch; gap: 20px;
      autom-button { width: 100%;
        button { width: 300px; }
        .mat-icon { font-size: 20px; }
      }
    }
  }
}

/* ------------------------------
   YouTube placeholder (16:9)
------------------------------ */
.youtube-player-placeholder {
  width: clamp(320px, 90vw, 800px) !important;
  height: clamp(180px, calc(90vw * 0.5625), 450px) !important;
  background-size: cover; background-position: center; background-repeat: no-repeat;
  display: block; margin: 0 auto; border-radius: 6px;
}
